
*** general ***

author   = Agrammon Group
date     = 2008-05-07
taxonomy = Livestock
gui      = Livestock,Tierhaltung,Production animale,Livestock

+short

 Collects the annual NH3 emission and the N flux for transfer into
 storage.

+description

 This process summarizes the annual NH3 emission from livestock (housing,
 yard and grazing) for all animal categories. Further it calculates the N flux
 into storage from housing and yard. The manure is splited in solid and
 liquid/slurry.


*** external ***

+Livestock::DairyCow
  aggregate=SUM
+Livestock::DairyCow::Excretion
  aggregate=SUM
+Livestock::DairyCow::Yard
  aggregate=SUM
+Livestock::DairyCow::Grazing
  aggregate=SUM
+Livestock::DairyCow::Housing
  aggregate=SUM

+Livestock::OtherCattle
  aggregate=SUM
+Livestock::OtherCattle::Excretion
  aggregate=SUM
+Livestock::OtherCattle::Yard
  aggregate=SUM
+Livestock::OtherCattle::Grazing
  aggregate=SUM
+Livestock::OtherCattle::Housing
  aggregate=SUM


+Livestock::Pig
  aggregate=SUM
+Livestock::Pig::Excretion
  aggregate=SUM
+Livestock::Pig::Housing
  aggregate=SUM
+Livestock::Pig::Grazing
  aggregate=SUM

+Livestock::FatteningPigs
  aggregate=SUM
+Livestock::FatteningPigs::Excretion
  aggregate=SUM
+Livestock::FatteningPigs::Housing
  aggregate=SUM
+Livestock::FatteningPigs::Grazing
  aggregate=SUM

+Livestock::Poultry
  aggregate=SUM
+Livestock::Poultry::Excretion
  aggregate=SUM
+Livestock::Poultry::Housing
  aggregate=SUM
+Livestock::Poultry::Outdoor
  aggregate=SUM

+Livestock::Equides
  aggregate=SUM
+Livestock::Equides::Excretion
  aggregate=SUM
+Livestock::Equides::Housing
  aggregate=SUM
+Livestock::Equides::Yard
  aggregate=SUM
+Livestock::Equides::Grazing
  aggregate=SUM

+Livestock::SmallRuminants
#  alias=LSR
  aggregate=SUM
+Livestock::SmallRuminants::Excretion
  aggregate=SUM
+Livestock::SmallRuminants::Housing
  aggregate=SUM
+Livestock::SmallRuminants::Grazing
  aggregate=SUM

+Livestock::RoughageConsuming
#  alias=LSR
  aggregate=SUM
+Livestock::RoughageConsuming::Excretion
  aggregate=SUM
+Livestock::RoughageConsuming::Housing
  aggregate=SUM
+Livestock::RoughageConsuming::Grazing
  aggregate=SUM


*** output ***


####################################################
##### n input -> Clean up labels etc!!!

+n_into_housing
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 101
    en = Total N excretion
    de = Total N Ausscheidung
    fr = Excrétion de N totale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Total annual N excreted by all animals.
  ++formula
    Sum(n_into_housing, Livestock::OtherCattle::Housing) P+
    Sum(n_into_housing, Livestock::DairyCow::Housing) P+
    Sum(n_into_housing, Livestock::Pig::Housing) P+
    Sum(n_into_housing, Livestock::FatteningPigs::Housing) P+
    Sum(n_into_housing, Livestock::Equides::Housing) P+
    Sum(n_into_housing, Livestock::SmallRuminants::Housing) P+
    Sum(n_into_housing, Livestock::RoughageConsuming::Housing) P+
    Sum(n_into_housing, Livestock::Poultry::Housing);

+n_into_yard
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 101
    en = Total N excretion
    de = Total N Ausscheidung
    fr = Excrétion de N totale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Total annual N excreted by all animals.
  ++formula
    Sum(n_into_yard, Livestock::OtherCattle::Yard) P+
    Sum(n_into_yard, Livestock::DairyCow::Yard) P+
    Sum(n_into_yard, Livestock::Equides::Yard);

+n_into_grazing
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 101
    en = Total N excretion
    de = Total N Ausscheidung
    fr = Excrétion de N totale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Total annual N excreted by all animals.
  ++formula
    Sum(n_into_grazing, Livestock::OtherCattle::Grazing) P+
    Sum(n_into_grazing, Livestock::DairyCow::Grazing) P+
    Sum(n_into_grazing, Livestock::Pig::Grazing) P+
    Sum(n_into_grazing, Livestock::FatteningPigs::Grazing) P+
    Sum(n_into_grazing, Livestock::Equides::Grazing) P+
    Sum(n_into_grazing, Livestock::SmallRuminants::Grazing) P+
    Sum(n_into_grazing, Livestock::RoughageConsuming::Grazing) P+
    Sum(n_into_outdoor, Livestock::Poultry::Outdoor);

+n_into_livestock
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 101
    en = Total N excretion
    de = Total N Ausscheidung
    fr = Excrétion de N totale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Total annual N excreted by all animals.
  ++formula
    Out(n_into_housing) P+
    Out(n_into_yard);


####################################################
##### tan input -> Clean up labels etc!!!

+tan_into_housing
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 101
    en = Total N excretion
    de = Total N Ausscheidung
    fr = Excrétion de N totale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Total annual N excreted by all animals.
  ++formula
    Sum(tan_into_housing, Livestock::OtherCattle::Housing) P+
    Sum(tan_into_housing, Livestock::DairyCow::Housing) P+
    Sum(tan_into_housing, Livestock::Pig::Housing) P+
    Sum(tan_into_housing, Livestock::FatteningPigs::Housing) P+
    Sum(tan_into_housing, Livestock::Equides::Housing) P+
    Sum(tan_into_housing, Livestock::SmallRuminants::Housing) P+
    Sum(tan_into_housing, Livestock::RoughageConsuming::Housing) P+
    Sum(tan_into_housing, Livestock::Poultry::Housing);

+tan_into_yard
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 101
    en = Total N excretion
    de = Total N Ausscheidung
    fr = Excrétion de N totale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Total annual N excreted by all animals.
  ++formula
    Sum(tan_into_yard, Livestock::OtherCattle::Yard) P+
    Sum(tan_into_yard, Livestock::DairyCow::Yard) P+
    Sum(tan_into_yard, Livestock::Equides::Yard);

+tan_into_grazing
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 101
    en = Total N excretion
    de = Total N Ausscheidung
    fr = Excrétion de N totale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Total annual N excreted by all animals.
  ++formula
    Sum(tan_into_grazing, Livestock::OtherCattle::Grazing) P+
    Sum(tan_into_grazing, Livestock::DairyCow::Grazing) P+
    Sum(tan_into_grazing, Livestock::Pig::Grazing) P+
    Sum(tan_into_grazing, Livestock::FatteningPigs::Grazing) P+
    Sum(tan_into_grazing, Livestock::Equides::Grazing) P+
    Sum(tan_into_grazing, Livestock::SmallRuminants::Grazing) P+
    Sum(tan_into_grazing, Livestock::RoughageConsuming::Grazing) P+
    Sum(tan_into_outdoor, Livestock::Poultry::Outdoor);

+tan_into_livestock
  format= %.0f
  print = TANFlux
  ++labels
    sort = 101
    en = Total soluble N excretion
    de = Total Nlös Ausscheidung
    fr = Excrétion de TAN totale
  ++units
    en = kg TAN/year
    de = kg TAN/Jahr
    fr = kg TAN/an
  ++description
    Total annual TAN excreted by all animals.
  ++formula
    Out(tan_into_housing) P+
    Out(tan_into_yard);

####################################################



####################################################
##### Prepare animal master categories

+has_cattle
  print = mastercategory,livestock
  ++units
    en = 
    de = 
    fr = 
  ++description
    Animal categories belonging to mastercategory _cattle_ (dairy cows and other cattle). 
    Hash entry of 1, if N flux into livestock > 0. Hash entry of 0, if N flux into livestock = 0.
  ++formula
    hashsign( 
      Sum(n_excretion, Livestock::OtherCattle::Excretion) P+ 
      Sum(n_excretion, Livestock::DairyCow::Excretion)
    );

+has_pigs
  print = mastercategory,livestock
  ++units
    en = 
    de = 
    fr = 
  ++description
    Animal categories belonging to mastercategory _pigs_ (fattening pigs and other pigs). 
    Hash entry of 1, if N flux into livestock > 0. Hash entry of 0, if N flux into livestock = 0.
  ++formula
    hashsign( 
      Sum(n_excretion, Livestock::Pig::Excretion) P+ 
      Sum(n_excretion, Livestock::FatteningPigs::Excretion)
    );

+has_others
  print = mastercategory,livestock
  ++units
    en = 
    de = 
    fr = 
  ++description
    Animal categories belonging to mastercategory _others_ (equides, small ruminants and 
    roughage consuming). Hash entry of 1, if N flux into livestock > 0. 
    Hash entry of 0, if N flux into livestock = 0.
  ++formula
    hashsign( 
      Sum(n_excretion, Livestock::Equides::Excretion) P+ 
      Sum(n_excretion, Livestock::SmallRuminants::Excretion) P+ 
      Sum(n_excretion, Livestock::RoughageConsuming::Excretion)
    );

+has_poultry_LGO
  print = mastercategory,livestock
  ++units
    en = 
    de = 
    fr = 
  ++description
    Animal categories belonging to mastercategory *poultry_LGO* (layers, growers and other poultry). 
    Hash entry of 1, if N flux into livestock > 0. Hash entry of 0, if N flux into livestock = 0.
  ++formula
    hashsign( Sum(n_excretion_layers_growers_other_poultry,Livestock::Poultry) );

+has_poultry_TB
  print = mastercategory,livestock
  ++units
    en = 
    de = 
    fr = 
  ++description
    Animal categories belonging to mastercategory *poultry_TB* (turkeys and broilers). 
    Hash entry of 1, if N flux into livestock > 0. Hash entry of 0, if N flux into livestock = 0.
  ++formula
    hashsign( 
      Sum(n_excretion_turkeys_broilers,Livestock::Poultry)
    );

+has_no_poultry
  print = mastercategory,livestock
  ++units
    en = 
    de = 
    fr = 
  ++description
    Animal categories belonging to mastercategory *no_poultry* (all except poultry). 
    Hash entry of 1, if N flux into livestock > 0. Hash entry of 0, if N flux into livestock = 0.
  ++formula
    Out(has_pigs) P+
    Out(has_cattle) P+
    Out(has_others);

+has_poultry
  print = mastercategory,livestock
  ++units
    en = 
    de = 
    fr = 
  ++description
    Animal categories belonging to mastercategory _poultry_ (all poultry). 
    Hash entry of 1, if N flux into livestock > 0. Hash entry of 0, if N flux into livestock = 0.
  ++formula
    Out(has_poultry_LGO) P+
    Out(has_poultry_TB);
 
####################################################



####################################################
##### n out housing

+n_out_housing_liquid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) out of housing.
  ++formula
    Sum(n_outhousing_liquid, Livestock::Pig::Housing) P+
    Sum(n_outhousing_liquid, Livestock::FatteningPigs::Housing) P+
    Sum(n_outhousing_liquid, Livestock::OtherCattle::Housing) P+
    Sum(n_outhousing_liquid, Livestock::DairyCow::Housing);

+n_out_housing_solid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) out of housing.
  ++formula
    Sum(n_outhousing_solid, Livestock::Pig::Housing) P+
    Sum(n_outhousing_solid, Livestock::FatteningPigs::Housing) P+
    Sum(n_outhousing_solid, Livestock::OtherCattle::Housing) P+
    Sum(n_outhousing_solid, Livestock::DairyCow::Housing) P+
    Sum(n_outhousing_solid, Livestock::Equides::Housing) P+
    Sum(n_outhousing_solid, Livestock::SmallRuminants::Housing) P+
    Sum(n_outhousing_solid, Livestock::RoughageConsuming::Housing) P+
    Sum(n_outhousing_solid, Livestock::Poultry::Housing);
 
####################################################



####################################################
##### n out yard

+n_out_yard_liquid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) out of yard.
  ++formula
    Sum(n_outyard_liquid, Livestock::OtherCattle::Yard) P+
    Sum(n_outyard_liquid, Livestock::DairyCow::Yard);

+n_out_yard_solid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) out of yard.
  ++formula
    Sum(n_outyard_solid, Livestock::OtherCattle::Yard) P+
    Sum(n_outyard_solid, Livestock::DairyCow::Yard) P+
    Sum(n_outyard_solid, Livestock::Equides::Yard);
 
####################################################



####################################################
##### n out livestock (from housing and yard into storage + directly applied)

+n_out_livestock_liquid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) from housing and yard into the
    storage from all animal besides poultry.
  ++formula
    Out(n_out_housing_liquid) P+
    Out(n_out_yard_liquid);

# eventually use 'tan_out_livestock_liquid_pigs_share' for liquid storage scaling!
+n_out_livestock_liquid_pigs_share
  print = newStorage
  ++units
    en = -
    de = -
    fr = -
  ++description
    Scalar. Share of annual liquid N flux from housing and yard into the
    storage from pigs (scaled by total flux).
  ++formula
    ( 
      scalar(Sum(n_liquid_from_pig,Livestock::Pig)) +
      scalar(Sum(n_outhousing_liquid, Livestock::FatteningPigs::Housing))
    ) / 
    scalar(Out(n_out_livestock_liquid));

+n_out_livestock_solid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (solid share) from housing and yard into the
    storage from all animals besides poultry.
  ++formula
    Out(n_out_housing_solid) P+
    Out(n_out_yard_solid);

+n_out_livestock
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 105
    en = Total N into storage
    de = Total N ins Hofdüngerlager
    fr = N total dans le stock d'engrais de ferme
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid and solid share) from housing
    and yard into the storage from all animals.
  ++formula
    Out(n_out_livestock_liquid) P+
    Out(n_out_livestock_solid);

####################################################



####################################################
##### n out livestock (into storage + directly applied)

+tan_out_housing_liquid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) out of housing.
  ++formula
    Sum(tan_outhousing_liquid, Livestock::Pig::Housing) P+
    Sum(tan_outhousing_liquid, Livestock::FatteningPigs::Housing) P+
    Sum(tan_outhousing_liquid, Livestock::OtherCattle::Housing) P+
    Sum(tan_outhousing_liquid, Livestock::DairyCow::Housing);

+tan_out_housing_solid
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (solid share) as TAN from housing and yard into
    the storage from all animals besides poultry.
  ++formula
    Sum(tan_outhousing_solid, Livestock::OtherCattle::Housing) P+
    Sum(tan_outhousing_solid, Livestock::DairyCow::Housing) P+
    Sum(tan_outhousing_solid, Livestock::Pig::Housing) P+
    Sum(tan_outhousing_solid, Livestock::FatteningPigs::Housing) P+
    Sum(tan_outhousing_solid, Livestock::Equides::Housing) P+
    Sum(tan_outhousing_solid, Livestock::SmallRuminants::Housing) P+
    Sum(tan_outhousing_solid, Livestock::RoughageConsuming::Housing) P+
    Sum(tan_outhousing_solid, Livestock::Poultry::Housing);
 
####################################################



####################################################
##### n out livestock (into storage + directly applied)

+tan_out_yard_liquid
  print = 3a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) out of yard.
  ++formula
    Sum(tan_outyard_liquid, Livestock::OtherCattle::Yard) P+
    Sum(tan_outyard_liquid, Livestock::DairyCow::Yard);

+tan_out_yard_solid
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (solid share) as TAN from yard and yard into
    the storage from all animals besides poultry.
  ++formula
    Sum(tan_outyard_solid, Livestock::OtherCattle::Yard) P+
    Sum(tan_outyard_solid, Livestock::DairyCow::Yard) P+
    Sum(tan_outyard_solid, Livestock::Equides::Yard);
  
####################################################



####################################################
##### tan out livestock (into storage + directly applied)

+tan_out_livestock_liquid
  print = 6
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (liquid share) as TAN from housing and yard into
    the storage from all animals besides poultry.
  ++formula
    Out(tan_out_housing_liquid) P+
    Out(tan_out_yard_liquid);

# eventually use for liquid storage scaling!
+tan_out_livestock_liquid_pigs_share
  print = newStorage
  ++units
    en = -
    de = -
    fr = -
  ++description
    Scalar. Share of annual liquid N flux as TAN from housing and yard into the
    storage from pigs (scaled by total flux).
  ++formula
    ( 
      scalar(Sum(tan_outhousing_liquid, Livestock::Pig::Housing)) +
      scalar(Sum(tan_outhousing_liquid, Livestock::FatteningPigs::Housing))
    ) / 
    scalar(Out(tan_out_livestock_liquid));

+tan_out_livestock_solid
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (solid share) as TAN from housing and yard into
    the storage from all animals besides poultry.
  ++formula
    Out(tan_out_housing_solid) P+
    Out(tan_out_yard_solid);

+tan_out_livestock
  format= %.0f
  print = TANFlux
  ++labels
    sort = 105
    en = Total TAN into storage
    de = Total Nlös ins Hofdüngerlager
    fr = TAN total dans le stock d'engrais de ferme
  ++units
    en = kg TAN/year
    de = kg TAN/Jahr
    fr = kg TAN/an
  ++description
    Annual TAN flux as TAN from housing and yard into the
    storage from all animals besides poultry.
  ++formula
    Out(tan_out_livestock_liquid) P+
    Out(tan_out_livestock_solid);

####################################################



####################################################
#### nxox loss solid (Housing + Storage?!) -> rename to nxox_housing_storage + split to n2,...

+nxox_nsolid_dairycows_cattle
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NxOx flux (solid share) as TAN from housing and yard into
    the storage from dairycow and cattle.
  ++formula
    Sum(n2_nsolid,Livestock::OtherCattle) P+
    Sum(no_nsolid,Livestock::OtherCattle) P+
    Sum(n2o_nsolid,Livestock::OtherCattle) P+
    Sum(n2_nsolid,Livestock::DairyCow) P+
    Sum(no_nsolid,Livestock::DairyCow) P+
    Sum(n2o_nsolid,Livestock::DairyCow);

+nxox_nsolid_equides_other
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NxOx flux (solid share) as TAN from housing and yard into
    the storage from all other animals
  ++formula
    Sum(n2_nsolid,Livestock::SmallRuminants) P+
    Sum(n2_nsolid,Livestock::RoughageConsuming) P+
    Sum(n2_nsolid,Livestock::Equides) P+

    Sum(no_nsolid,Livestock::SmallRuminants) P+
    Sum(no_nsolid,Livestock::RoughageConsuming) P+
    Sum(no_nsolid,Livestock::Equides) P+

    Sum(n2o_nsolid,Livestock::SmallRuminants) P+
    Sum(n2o_nsolid,Livestock::RoughageConsuming) P+
    Sum(n2o_nsolid,Livestock::Equides);


+nxox_nsolid_poultry
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NxOx flux (solid share) as TAN from housing and yard into
    the storage from poultry.
  ++formula
    Sum(n2_npoultry,Livestock::Poultry) P+
    Sum(no_npoultry,Livestock::Poultry) P+
    Sum(n2o_npoultry,Livestock::Poultry);

+nxox_nsolid_layers_growers_other_poultry
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NxOx flux (solid share) as TAN from housing and yard into
    the storage from poultry if layer , growers or other poultry.
  ++formula
    Sum(n2_npoultry_layers_growers_other_poultry,Livestock::Poultry) P+
    Sum(no_npoultry_layers_growers_other_poultry,Livestock::Poultry) P+
    Sum(n2o_npoultry_layers_growers_other_poultry,Livestock::Poultry);


+nxox_nsolid_turkeys_broilers
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NxOx flux (solid share) as TAN from housing and yard into
    the storage from poultry if turkeys or broilers.
  ++formula
    Sum(n2_npoultry_turkeys_broilers,Livestock::Poultry) P+
    Sum(no_npoultry_turkeys_broilers,Livestock::Poultry) P+
    Sum(n2o_npoultry_turkeys_broilers,Livestock::Poultry);


+nxox_nsolid_pigs
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NxOx flux (solid share) as TAN from housing and yard into
    the storage from all pigs.
  ++formula
    Sum(n2_nsolid,Livestock::Pig) P+
    Sum(no_nsolid_pig,Livestock::Pig) P+
    Sum(n2o_nsolid,Livestock::Pig) P+

    Sum(n2_nsolid,Livestock::FatteningPigs) P+
    Sum(no_nsolid_fattening_pig,Livestock::FatteningPigs) P+
    Sum(n2o_nsolid,Livestock::FatteningPigs);


+nxox_nsolid
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (solid share) as TAN from housing and yard into
    the storage from all animals besides poultry.
  ++formula
    Out(nxox_nsolid_dairycows_cattle) P+
    Out(nxox_nsolid_pigs) P+
    Out(nxox_nsolid_equides_other) P+
    Out(nxox_nsolid_poultry);

####################################################
##### nxox liquid -> rename to nxox_housing_storage + split to n2,...

+nxox_nliquid
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (solid share) as TAN from housing and yard into
    the storage from all animals besides poultry.
  ++formula
    Sum(n2_nliquid,Livestock::OtherCattle) P+
    Sum(no_nliquid,Livestock::OtherCattle) P+
    Sum(n2o_nliquid,Livestock::OtherCattle) P+

    Sum(n2_nliquid,Livestock::DairyCow) P+
    Sum(no_nliquid,Livestock::DairyCow) P+
    Sum(n2o_nliquid,Livestock::DairyCow) P+

    Sum(n2_nliquid,Livestock::Pig) P+
    Sum(no_nliquid_pig,Livestock::Pig) P+
    Sum(n2o_nliquid,Livestock::Pig) P+

    Sum(n2_nliquid,Livestock::FatteningPigs) P+
    Sum(no_nliquid_fattening_pig,Livestock::FatteningPigs) P+
    Sum(n2o_nliquid,Livestock::FatteningPigs);

####################################################

+nxox_n
  print = 4a
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N flux (solid share) as TAN from housing and yard into
    the storage from all animals besides poultry.
  ++formula
    Out(nxox_nliquid) +
    Out(nxox_nsolid_dairycows_cattle) +
    Out(nxox_nsolid_pigs) +
    Out(nxox_nsolid_equides_other) +
    Out(nxox_nsolid_poultry);

+n2_nlivestock
  print = NOxFlux
  ++labels
    sort = 210
    en = Total N2-Emissions Housing, Yard and Storage
    de = Total N2-Emission Stall, Laufhof und Lager
    fr = Emission de N2 totale issue de la production animale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N2 emission from livestock from all animals.
  ++formula
        Sum(n2_nsolid,Livestock::OtherCattle) P+
        Sum(n2_nliquid,Livestock::OtherCattle) P+
        Sum(n2_nsolid,Livestock::DairyCow) P+
        Sum(n2_nliquid,Livestock::DairyCow) P+
        Sum(n2_nsolid,Livestock::SmallRuminants) P+
        Sum(n2_nsolid,Livestock::RoughageConsuming) P+
        Sum(n2_nsolid,Livestock::Pig) P+
        Sum(n2_nliquid,Livestock::Pig) P+
        Sum(n2_nsolid,Livestock::FatteningPigs) P+
        Sum(n2_nliquid,Livestock::FatteningPigs) P+
        Sum(n2_nsolid,Livestock::Equides) P+
        Sum(n2_npoultry,Livestock::Poultry);


+no_nlivestock
  print = NOxFlux
  ++labels
    sort = 220
    en = Total NO-Emissions Housing, Yard and Storage
    de = Total NO-Emission Stall, Laufhof und Lager
    fr = Emission de NO totale issue de la production animale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NO emission from livestock from all animals.
  ++formula
        Sum(no_nsolid,Livestock::OtherCattle) P+
        Sum(no_nliquid,Livestock::OtherCattle) P+
        Sum(no_nsolid,Livestock::DairyCow) P+
        Sum(no_nliquid,Livestock::DairyCow) P+
        Sum(no_nsolid,Livestock::SmallRuminants) P+
        Sum(no_nsolid,Livestock::RoughageConsuming) P+
        Sum(no_nsolid_pig,Livestock::Pig) P+
        Sum(no_nliquid_pig,Livestock::Pig) P+
        Sum(no_nsolid_fattening_pig,Livestock::FatteningPigs) P+
        Sum(no_nliquid_fattening_pig,Livestock::FatteningPigs) P+
        Sum(no_nsolid,Livestock::Equides) P+
        Sum(no_npoultry,Livestock::Poultry);

+n2o_nlivestock
  print = NOxFlux
  ++labels
    sort = 230
    en = Total N2O-Emissions Housing, Yard and Storage
    de = Total N2O-Emission Stall, Laufhof und Lager
    fr = Emission de N2O totale issue de la production animale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N2O emission from livestock from all animals.
  ++formula
        Sum(n2o_nsolid,Livestock::OtherCattle) P+
        Sum(n2o_nliquid,Livestock::OtherCattle) P+
        Sum(n2o_nsolid,Livestock::DairyCow) P+
        Sum(n2o_nliquid,Livestock::DairyCow) P+
        Sum(n2o_nsolid,Livestock::SmallRuminants) P+
        Sum(n2o_nsolid,Livestock::RoughageConsuming) P+
        Sum(n2o_nsolid,Livestock::Pig) P+
        Sum(n2o_nliquid,Livestock::Pig) P+
        Sum(n2o_nsolid,Livestock::FatteningPigs) P+
        Sum(n2o_nliquid,Livestock::FatteningPigs) P+
        Sum(n2o_nsolid,Livestock::Equides) P+
        Sum(n2o_npoultry,Livestock::Poultry);


+nh3_ngrazing
  format= %.0f
  print = LivestockSummary
  ++labels
    sort = 801
    en = Grazing NH3-Emissions
    de = Weide NH3-Emission
    fr = Emission de NH3 issu du pâturage
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from all grazing areas and Poultry outdoor activities.
  ++formula
     Sum(nh3_ngrazing,Livestock::OtherCattle::Grazing) P+
     Sum(nh3_ngrazing,Livestock::DairyCow::Grazing) P+
     Sum(nh3_ngrazing,Livestock::Pig::Grazing) P+
     Sum(nh3_ngrazing,Livestock::FatteningPigs::Grazing) P+
     Sum(nh3_ngrazing,Livestock::Equides::Grazing) P+
     Sum(nh3_ngrazing,Livestock::SmallRuminants::Grazing) P+
     Sum(nh3_ngrazing,Livestock::RoughageConsuming::Grazing) P+
     Sum(nh3_free_range,Livestock::Poultry::Outdoor);

+n2_ngrazing
  format= %.0f
  print = NOxFlux
  ++labels
    sort = 110
    en = Grazing N2-Emissions
    de = Weide N2-Emission
    fr = Emission de N2 issu du pâturage
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from all grazing areas and Poultry outdoor activities.
  ++formula
     Sum(n2_ngrazing,Livestock::OtherCattle::Grazing) P+
     Sum(n2_ngrazing,Livestock::DairyCow::Grazing) P+
     Sum(n2_ngrazing,Livestock::Pig::Grazing) P+
     Sum(n2_ngrazing,Livestock::FatteningPigs::Grazing) P+
     Sum(n2_ngrazing,Livestock::Equides::Grazing) P+
     Sum(n2_ngrazing,Livestock::SmallRuminants::Grazing) P+
     Sum(n2_ngrazing,Livestock::RoughageConsuming::Grazing) P+
     Sum(n2_free_range,Livestock::Poultry::Outdoor);

+no_ngrazing
  format= %.0f
  print = NOxFlux
  ++labels
    sort = 120
    en = Grazing NO-Emissions
    de = Weide NO-Emission
    fr = Emission de NO issu du pâturage
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from all grazing areas and Poultry outdoor activities.
  ++formula
     Sum(no_ngrazing,Livestock::OtherCattle::Grazing) P+
     Sum(no_ngrazing,Livestock::DairyCow::Grazing) P+
     Sum(no_ngrazing,Livestock::Pig::Grazing) P+
     Sum(no_ngrazing,Livestock::FatteningPigs::Grazing) P+
     Sum(no_ngrazing,Livestock::Equides::Grazing) P+
     Sum(no_ngrazing,Livestock::SmallRuminants::Grazing) P+
     Sum(no_ngrazing,Livestock::RoughageConsuming::Grazing) P+
     Sum(no_free_range,Livestock::Poultry::Outdoor);


+n2o_ngrazing
  format= %.0f
  print = NOxFlux
  ++labels
    sort = 131
    en = Grazing N2O-Emissions
    de = Weide N2O-Emission
    fr = Emission de N2O issu du pâturage
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from all grazing areas and Poultry outdoor activities.
  ++formula
     Sum(n2o_ngrazing,Livestock::OtherCattle::Grazing) P+
     Sum(n2o_ngrazing,Livestock::DairyCow::Grazing) P+
     Sum(n2o_ngrazing,Livestock::Pig::Grazing) P+
     Sum(n2o_ngrazing,Livestock::FatteningPigs::Grazing) P+
     Sum(n2o_ngrazing,Livestock::Equides::Grazing) P+
     Sum(n2o_ngrazing,Livestock::SmallRuminants::Grazing) P+
     Sum(n2o_ngrazing,Livestock::RoughageConsuming::Grazing) P+
     Sum(n2o_free_range,Livestock::Poultry::Outdoor);


+nh3_nhousing
  format= %.0f
  print = 2
  ++labels
    en = Housing NH3-Emissions
    de = Stall NH3-Emission
    fr = Emission de NH3 issu de la stabulation
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from all housings.
  ++formula
   Sum(nh3_nhousing,Livestock::OtherCattle::Housing) P+
   Sum(nh3_nhousing,Livestock::DairyCow::Housing) P+
   Sum(nh3_nhousing,Livestock::SmallRuminants::Housing) P+
   Sum(nh3_nhousing,Livestock::RoughageConsuming::Housing) P+
   Sum(nh3_nhousing,Livestock::Pig::Housing) P+
   Sum(nh3_nhousing,Livestock::FatteningPigs::Housing) P+
   Sum(nh3_nhousing,Livestock::Equides::Housing) P+
   Sum(nh3_nhousing,Livestock::Poultry::Housing);

+nh3_nyard
  print = 2
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from all yards.
  ++formula
    Sum(nh3_nyard,Livestock::OtherCattle::Yard) P+
    Sum(nh3_nyard,Livestock::Equides::Yard) P+
    Sum(nh3_nyard,Livestock::DairyCow::Yard);

# is this variable really necessary?
+nh3_nhousing_and_yard
  format= %.0f
  print = LivestockSummary
  ++labels
    sort = 802
    en = Housing and Yard NH3-Emissions
    de = Stall und Laufhof NH3-Emission
    fr = Emission de NH3 issu de la stabulation et du parcours extérieur
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from all housings and yards.
  ++formula
    Out(nh3_nhousing) P+
    Out(nh3_nyard);

+n_remain_grazing
  format= %.0f
  print = FluxSummaryLivestock
  ++labels
    sort = 104
    en = Total N remaining on pasture
    de = Total N auf der Weide
    fr = N total au pâturage
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual N remaining on pasture from all grazing areas.
  ++formula
     Sum(n_remain_grazing, Livestock::OtherCattle::Grazing) P+
     Sum(n_remain_grazing, Livestock::DairyCow::Grazing) P+
     Sum(n_remain_grazing, Livestock::Pig::Grazing) P+
     Sum(n_remain_grazing, Livestock::FatteningPigs::Grazing) P+
     Sum(n_remain_grazing, Livestock::Equides::Grazing) P+
     Sum(n_remain_grazing, Livestock::SmallRuminants::Grazing) P+
     Sum(n_remain_grazing, Livestock::RoughageConsuming::Grazing) P+
     Sum(n_remain_outdoor, Livestock::Poultry::Outdoor);


+tan_to_grazing
  format= %.0f
  print = TANFlux
  ++labels
    sort = 104
    en = Total soluble N excretion on pasture
    de = Total Nlös auf der Weide
    fr = Soluable N total au pâturage
  ++units
    en = kg TAN/year
    de = kg TAN/Jahr
    fr = kg TAN/an
  ++description
    Annual N remaining on pasture from all grazing areas.
  ++formula
     Sum(tan_into_grazing,Livestock::OtherCattle::Grazing) P+
     Sum(tan_into_grazing,Livestock::DairyCow::Grazing) P+
     Sum(tan_into_grazing,Livestock::Pig::Grazing) P+
     Sum(tan_into_grazing,Livestock::FatteningPigs::Grazing) P+
     Sum(tan_into_grazing,Livestock::Equides::Grazing) P+
     Sum(tan_into_grazing,Livestock::SmallRuminants::Grazing) P+
     Sum(tan_into_grazing,Livestock::RoughageConsuming::Grazing) P+
     Sum(tan_into_outdoor,Livestock::Poultry::Outdoor);



+nh3_nlivestock
  print = 55
  ++labels
    en = Total Livestock NH3-Emissions
    de = Total Tierproduktion NH3-Emission
    fr = Emission de NH3 totale issue de la production animale
  ++units
    en = kg N/year
    de = kg N/Jahr
    fr = kg N/an
  ++description
    Annual NH3 emission from livestock from all animals.
  ++formula
    Out(nh3_nhousing_and_yard) P+
    Out(nh3_ngrazing);

